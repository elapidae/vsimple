#ifndef IMPL_VPOSIX_WRAP_SYS_EVENTFD_H
#define IMPL_VPOSIX_WRAP_SYS_EVENTFD_H


//=======================================================================================
/*
 *  http://man7.org/linux/man-pages/man2/eventfd.2.html
*/
//=======================================================================================

#include <string>

//=======================================================================================
namespace impl_vposix
{
    //===================================================================================
    class eventfd final
    {
    public:
        eventfd();
        ~eventfd();

        bool read();
        void write();

        int handle() const;

    private:
        int _evfd;
    };
    //===================================================================================
    struct wrap_sys_eventfd final
    {
        //-------------------------------------------------------------------------------
        static int  create();
        static bool read  ( int evfd );
        static void write ( int evfd );
        //-------------------------------------------------------------------------------
    };
    //===================================================================================
} // namespace impl_vposix
//=======================================================================================

#endif // IMPL_VPOSIX_WRAP_SYS_EVENTFD_H
